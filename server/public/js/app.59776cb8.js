(function(t){function e(e){for(var a,r,n=e[0],l=e[1],c=e[2],d=0,m=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var l=s[n];0!==o[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),o=s.n(a);o.a},"039f":function(t,e,s){},"0498":function(t,e,s){"use strict";var a=s("f4e1"),o=s.n(a);o.a},1846:function(t,e,s){},"277a":function(t,e,s){"use strict";var a=s("039f"),o=s.n(a);o.a},3030:function(t,e,s){},"3c5f":function(t,e,s){},"4c32":function(t,e,s){"use strict";var a=s("8451"),o=s.n(a);o.a},"4c85":function(t,e,s){"use strict";var a=s("3c5f"),o=s.n(a);o.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],r={watch:{$route:{handler:function(t){document.title=t.meta.title||"ANIMOSIS"},immediate:!0}}},n=r,l=(s("034f"),s("2877")),c=Object(l["a"])(n,o,i,!1,null,null,null),u=c.exports,d=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"login-page"},[s("div",{staticClass:"form"},[s("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.idnum,expression:"input.idnum"}],attrs:{required:"",id:"idnum",type:"text",placeholder:"ID Number"},domProps:{value:t.input.idnum},on:{input:function(e){e.target.composing||t.$set(t.input,"idnum",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],attrs:{required:"",id:"password",type:"password",placeholder:"Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}}),t._m(0),s("p",{staticClass:"error m-3"},[t._v(t._s(t.errorMessage))]),s("p",{staticClass:"message"},[t._v("Not registered? "),s("router-link",{attrs:{to:{name:"Register"}}},[t._v("Create an account")])],1),s("p",{staticClass:"message admin"},[s("router-link",{attrs:{to:{name:"loginAdmin"}}},[t._v("Login as Admin")])],1)])])])])},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{attrs:{type:"submit",id:"login"}},[s("b",[t._v("login")])])}],p={name:"Login",data:function(){return{input:{idnum:"",password:""},errorMessage:""}},methods:{login:function(){var t=this;this.axios.post("http://localhost:5656/api/students/login",this.input).then((function(e){console.log(e.data),t.errorMessage="",t.$router.push({name:"Search"})})).catch((function(e){console.log(e),t.errorMessage="Invalid ID Number/Password"}))}},created:function(){var t=this;this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/students/authenticate-session",{headers:{withCredentials:!0}}).then((function(e){e.data.user_id?(console.log("User ID from previous session: "+e.data.user_id),t.$router.push({name:"Search"})):console.log("No previous user logged in")})).catch((function(t){console.log(t)}))}},v=p,f=(s("e931"),Object(l["a"])(v,m,h,!1,null,"cc2e4540",null)),g=f.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"register-page"},[s("div",{staticClass:"form"},[s("form",{staticClass:"register-form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],attrs:{required:"",id:"firstname",type:"text",placeholder:"First Name"},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.middlename,expression:"middlename"}],attrs:{required:"",id:"middlename",type:"text",placeholder:"M. Name"},domProps:{value:t.middlename},on:{input:function(e){e.target.composing||(t.middlename=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],attrs:{required:"",id:"lastname",type:"text",placeholder:"Surname"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.idnum,expression:"idnum"}],attrs:{required:"",id:"idnum",type:"text",placeholder:"ID Number"},domProps:{value:t.idnum},on:{input:function(e){e.target.composing||(t.idnum=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{required:"",id:"address",type:"text",placeholder:"Address"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{required:"",id:"email",type:"email",placeholder:"E-mail Address",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",title:"characters@characters.domain"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.birthdate,expression:"birthdate"}],attrs:{required:"",id:"birthdate",type:"text",placeholder:"Birthday",onfocus:"(this.type='date')",onblur:"(this.type='text')"},domProps:{value:t.birthdate},on:{input:function(e){e.target.composing||(t.birthdate=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{required:"",id:"password",type:"password",placeholder:"Password",pattern:"^\\S{6,}$",title:"Must have atleast 6 characters",onchange:"this.setCustomValidity(this.validity.patternMismatch ? 'Must have at least 6 characters' : ''); if(this.checkValidity()) form.confirmpass.pattern = this.value;"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmpass,expression:"confirmpass"}],attrs:{required:"",id:"confirmpass",type:"password",placeholder:"Confirm Password",onchange:"this.setCustomValidity(this.validity.patternMismatch ? 'Please enter the same Password' : '');"},domProps:{value:t.confirmpass},on:{input:function(e){e.target.composing||(t.confirmpass=e.target.value)}}}),t._m(0),s("p",{staticClass:"message"},[t._v("Already registered? "),s("router-link",{attrs:{to:{name:"loginStudent"}}},[t._v("Sign In")])],1),s("p",{staticClass:"error"},[t._v(t._s(t.errorMessage))]),s("p",{staticClass:"success"},[t._v(t._s(t.successMessage))])])])])])},_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{attrs:{id:"signup",type:"submit"}},[s("b",[t._v("sign up")])])}],b=(s("d3b7"),s("25f0"),{data:function(){return{name:"RegisterForm",confirmpass:"",firstname:"",middlename:"",lastname:"",address:"",birthdate:null,email:"",idnum:"",password:"",errorMessage:"",successMessage:""}},methods:{onSubmit:function(){var t=this,e={firstname:this.firstname,middlename:this.middlename,lastname:this.lastname,address:this.address,birthdate:new Date(Date.parse(this.birthdate)),email:this.email,idnum:this.idnum.toString(),password:this.password,courses:[]};this.axios.get("http://localhost:5656/api/students/"+this.idnum).then((function(s){console.log(s.data),null!=s.data?t.errorMessage="ID Number already registered!":(t.errorMessage="",console.log("registering account..."),t.axios.post("http://localhost:5656/api/students/register",e).then((function(e){console.log(e),t.successMessage="Account successfully registered! Going back to home page",window.location="/registerSuccess"})).catch((function(t){console.log(t)})))}))}}}),y=b,w=(s("63c9"),Object(l["a"])(y,C,_,!1,null,"ea3b9032",null)),x=w.exports,S=s("fbfa"),k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"login-page"},[s("div",{staticClass:"form"},[s("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],attrs:{required:"",id:"text",type:"text",placeholder:"Username"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],attrs:{required:"",id:"password",type:"password",placeholder:"Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}}),t._m(0),s("p",{staticClass:"error m-3"},[t._v(t._s(t.errorMessage))]),s("p",{staticClass:"message"},[s("router-link",{attrs:{to:{name:"loginStudent"}}},[t._v("Login as Student")])],1)])])])])},N=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{attrs:{type:"submit",id:"login"}},[s("b",[t._v("login")])])}],A={data:function(){return{input:{username:"",password:""},errorMessage:""}},methods:{login:function(){var t=this;this.axios.post("http://localhost:5656/api/admin/login",this.input).then((function(e){console.log(e.data),t.errorMessage="",t.$router.push({name:"adminManage"})})).catch((function(e){console.log(e),t.errorMessage="Invalid Username/Password"}))}},created:function(){var t=this;this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/admin/authenticate-session",{headers:{withCredentials:!0}}).then((function(e){e.data.admin_id?t.$router.push({name:"adminManage"}):console.log("admin not logged in")})).catch((function(t){console.log(t)}))}},T=A,D=(s("277a"),Object(l["a"])(T,k,N,!1,null,"07bbc2b4",null)),$=D.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("student-header"),s("search-courses")],1)},E=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand d-flex align-items-center justify-content-center",staticStyle:{"font-family":"'EB Garamond', serif"},attrs:{to:{name:"Search"}}},[a("img",{staticStyle:{height:"50px","margin-right":"10px"},attrs:{src:s("8409")}}),t._v("ANIMOSIS ")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarTogglerDemo02"}},[a("ul",{staticClass:"navbar-nav mr-auto mt-2 mt-lg-0"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Search"}}},[t._v("Search courses")])],1),a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Manage"}}},[t._v("Manage courses")])],1)]),a("ul",{staticClass:"navbar-nav mt-2 mt-lg-0 justify-content-end"},[a("li",{staticClass:"nav-item active"},[a("button",{staticClass:"astext nav-link",on:{click:t.logout}},[t._v("Logout")])])])])],1)},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],j={methods:{logout:function(){var t=this;console.log("User logging out..."),this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/students/logout",{headers:{withCredentials:!0}}).then((function(e){console.log(e.data),t.$router.push({name:"loginStudent"})})).catch((function(t){console.log(t)}))}}},I=j,F=(s("0498"),Object(l["a"])(I,O,P,!1,null,"ee3033f0",null)),V=F.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"align-items-center d-flex flex-column flex-fill p-lg-5 my-lg-5 my-4"},[s("div",{staticClass:"box p-lg-5 p-3 col-12",attrs:{id:"search-box"}},[s("h1",[t._v("Search courses")]),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.input,expression:"input",modifiers:{trim:!0}}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Type a course code... (e.g. CCAPDEV, MOBIDEV)",id:"courses",name:"courses"},domProps:{value:t.input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchCourses(e)},input:function(e){e.target.composing||(t.input=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"input-group-append",attrs:{id:"search"}},[s("button",{staticClass:"btn btn-success",attrs:{disabled:t.input.length<=0},on:{click:t.searchCourses}},[s("span",{staticStyle:{"font-size":"20px","vertical-align":"middle"}},[t._v("Search")])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showResults,expression:"showResults"}],staticClass:"box m-3 m-lg-5 p-lg-5 col-12 py-3"},[s("spinner",{directives:[{name:"show",rawName:"v-show",value:!t.resultsReady,expression:"!resultsReady"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSuccessAlert,expression:"showSuccessAlert"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" Course(s) successfully added! "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.showSuccessAlert=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFailureAlert,expression:"showFailureAlert"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.alertMsg)+" "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.showFailureAlert=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("form",{directives:[{name:"show",rawName:"v-show",value:t.resultsReady,expression:"resultsReady"}],staticClass:"form",attrs:{id:"add-course"},on:{submit:function(t){t.preventDefault()}}},[s("h1",{staticClass:"d-flex justify-content-left"},[t._v("Search results")]),t.courses.length>0?s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"rounded table table-light table-bordered text-center"},[t._m(0),s("tbody",[t._l(t.courses,(function(e,a){return[t._l(e.classtimes,(function(o,i){return s("tr",{key:a+"-"+i,class:a%2==0?"odd":""},[0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coursesToEnlist,expression:"coursesToEnlist"}],staticClass:"form-check-input position-static",attrs:{type:"checkbox"},domProps:{value:e.classnum,checked:Array.isArray(t.coursesToEnlist)?t._i(t.coursesToEnlist,e.classnum)>-1:t.coursesToEnlist},on:{change:function(s){var a=t.coursesToEnlist,o=s.target,i=!!o.checked;if(Array.isArray(a)){var r=e.classnum,n=t._i(a,r);o.checked?n<0&&(t.coursesToEnlist=a.concat([r])):n>-1&&(t.coursesToEnlist=a.slice(0,n).concat(a.slice(n+1)))}else t.coursesToEnlist=i}}})])]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.code)+" ")]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.section)+" ")]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.name)+" ")]):t._e(),s("td",[t._v(" "+t._s("C"==o.day?o.date:o.day)+" ")]),s("td",[t._v(" "+t._s(o.time.from)+"-"+t._s(o.time.to)+" ")]),s("td",[t._v(" "+t._s(o.room)+" ")]),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[s("span",{staticClass:"h4"},[t._v(t._s(e.enrolled.length))]),t._v(" / "+t._s(e.slots))]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.professor)+" ")]):t._e()])})),s("tr",{key:a})]}))],2)])]):s("p",[t._v("No results found.")]),s("input",{staticClass:"btn btn-success",attrs:{type:"submit",value:"Add courses",disabled:0==t.courses.length||0==t.coursesToEnlist},on:{click:function(e){return t.enlistCourses()}}})])],1)])},R=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead"},[s("tr",[s("th",{attrs:{scope:"col-1"}}),s("th",{attrs:{scope:"col-1"}},[t._v("Code")]),s("th",{attrs:{scope:"col-1"}},[t._v("Section")]),s("th",{attrs:{scope:"col-3"}},[t._v("Course Name")]),s("th",{attrs:{scope:"col-1"}},[t._v("Day")]),s("th",{attrs:{scope:"col-1"}},[t._v("Timeslot")]),s("th",{attrs:{scope:"col-1"}},[t._v("Room")]),s("th",{attrs:{scope:"col-1"}},[t._v("Slots")]),s("th",{attrs:{scope:"col-2"}},[t._v("Professor")])])])}],q=(s("4de4"),s("caad"),s("c975"),s("d81d"),s("2532"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sk-cube-grid"},[s("div",{staticClass:"sk-cube sk-cube1"}),s("div",{staticClass:"sk-cube sk-cube2"}),s("div",{staticClass:"sk-cube sk-cube3"}),s("div",{staticClass:"sk-cube sk-cube4"}),s("div",{staticClass:"sk-cube sk-cube5"}),s("div",{staticClass:"sk-cube sk-cube6"}),s("div",{staticClass:"sk-cube sk-cube7"}),s("div",{staticClass:"sk-cube sk-cube8"}),s("div",{staticClass:"sk-cube sk-cube9"})])}],Y=(s("a5c4"),{}),z=Object(l["a"])(Y,q,L,!1,null,null,null),W=z.exports,B={components:{spinner:W},data:function(){return{input:"",showResults:!1,courses:[],resultsReady:!1,coursesToEnlist:[],showSuccessAlert:!1,showFailureAlert:!1,currentUser:"",alertMsg:"",enlistedCourses:[]}},methods:{searchCourses:function(){var t=this;this.showResults=!0,this.resultsReady=!1,this.showSuccessAlert=!1,this.showFailureAlert=!1,this.axios.get("http://localhost:5656/api/courses/code/"+this.input).then((function(e){console.log(e.data),t.courses=e.data,console.log(t.courses)})).catch((function(e){t.alertMsg=e,t.showFailureAlert=!0})).finally((function(){t.resultsReady=!0}))},getCourses:function(){var t=this;this.axios.get("http://localhost:5656/api/students/"+this.currentUser+"/courses").then((function(e){console.log(e.data),t.enlistedCourses=e.data,t.resultsReady=!0}))},validCourses:function(){var t=this.coursesToEnlist.map((function(t){return t["code"]})),e=function(t){return t.filter((function(e,s){return t.indexOf(e)!=s}))};return 0==e(t).length},enlistCourses:function(){var t=this;this.showSuccessAlert=!1,this.showFailureAlert=!1,this.resultsReady=!1;var e=this.coursesToEnlist.map((function(t){return t["classnum"]}));this.validCourses()?this.axios.patch("http://localhost:5656/api/students/"+this.currentUser+"/courses",{action:"ENLIST",courses:e}).then((function(){t.showSuccessAlert=!0,console.log("succeeded!")})).catch((function(e){t.alertMsg=e.message,t.showFailureAlert=!0,console.log(e)})).finally((function(){t.resultsReady=!0})):(console.log("Trying to enlist to the same course subject!"),this.alertMsg="You cannot enlist in the same subject!",this.showFailureAlert=!0,this.resultsReady=!0,scroll(0,0))},isSelectable:function(t){var e=this.enlistedCourses.map((function(t){return t.classnum}));return!e.includes(t.classnum)}},created:function(){var t=this;this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/students/authenticate-session",{headers:{withCredentials:!0}}).then((function(e){e.data.user_id?(console.log("User ID from session: "+e.data.user_id),t.currentUser=e.data.user_id,t.getCourses()):t.$router.push({name:"loginStudent"})})).catch((function(t){console.log(t)}))}},G=B,H=(s("b175"),Object(l["a"])(G,U,R,!1,null,"77593ffe",null)),J=H.exports,K={components:{"student-header":V,"search-courses":J}},Q=K,X=(s("a041"),Object(l["a"])(Q,M,E,!1,null,"08ac2c8c",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("student-header"),s("div",{staticClass:"px-lg-5 py-lg-5 py-3 align-items-center"},[s("div",{staticClass:"box my-3 p-3"},[s("div",{staticClass:"col-12 p-3"},[s("h1",{staticClass:"d-flex justify-content-left"},[t._v("Your class schedule")]),s("spinner",{directives:[{name:"show",rawName:"v-show",value:!t.coursesLoaded,expression:"!coursesLoaded"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.coursesLoaded,expression:"coursesLoaded"}],attrs:{id:"calendar"}},[s("FullCalendar",{attrs:{defaultView:"timeGridWeek",plugins:t.calendarPlugins,header:!1,events:t.calendarEvents,eventColor:"rgb(0, 112, 60)",eventTextColor:"white",allDaySlot:!1,hiddenDays:[0],minTime:"07:30:00",maxTime:"21:30:00",height:"auto",columnHeaderFormat:{weekday:"short"}}})],1)],1),s("div",{staticClass:"col-12 p-3"},[s("form",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[s("h1",{staticClass:"d-flex justify-content-left"},[t._v("Courses")]),s("spinner",{directives:[{name:"show",rawName:"v-show",value:!t.coursesLoaded,expression:"!coursesLoaded"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSuccessAlert,expression:"showSuccessAlert"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" Course(s) successfully dropped! "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.showSuccessAlert=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFailureAlert,expression:"showFailureAlert"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.alertMsg)+" "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.showFailureAlert=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.coursesLoaded,expression:"coursesLoaded"}],staticClass:"table-responsive"},[s("p",{directives:[{name:"show",rawName:"v-show",value:0==t.courses.length,expression:"courses.length == 0"}]},[t._v(" You have no courses! ")]),s("table",{directives:[{name:"show",rawName:"v-show",value:t.courses.length>0,expression:"courses.length > 0"}],staticClass:"table table-sm table-light text-center"},[t._m(0),s("tbody",[t._l(t.courses,(function(e,a){return[t._l(e.classtimes,(function(o,i){return s("tr",{key:i,class:a%2==0?"odd":""},[0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coursesToDelete,expression:"coursesToDelete"}],staticClass:"form-check-input position-static",attrs:{type:"checkbox"},domProps:{value:e.classnum,checked:Array.isArray(t.coursesToDelete)?t._i(t.coursesToDelete,e.classnum)>-1:t.coursesToDelete},on:{change:function(s){var a=t.coursesToDelete,o=s.target,i=!!o.checked;if(Array.isArray(a)){var r=e.classnum,n=t._i(a,r);o.checked?n<0&&(t.coursesToDelete=a.concat([r])):n>-1&&(t.coursesToDelete=a.slice(0,n).concat(a.slice(n+1)))}else t.coursesToDelete=i}}})])]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.code)+" ")]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.section)+" ")]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.name)+" ")]):t._e(),s("td",[t._v(" "+t._s("C"==o.day?o.date:o.day)+" ")]),s("td",[t._v(" "+t._s(o.time.from)+"-"+t._s(o.time.to)+" ")]),s("td",[t._v(" "+t._s(o.room)+" ")]),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.professor)+" ")]):t._e()])})),s("tr",{key:a})]}))],2)]),s("input",{staticClass:"btn btn-danger",attrs:{type:"submit",value:"Remove courses",disabled:0==t.courses.length||0==t.coursesToDelete},on:{click:function(e){return t.dropCourses()}}})])],1)])])])],1)},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead"},[s("tr",[s("th",{attrs:{scope:"col-1"}}),s("th",{attrs:{scope:"col-1"}},[t._v("Code")]),s("th",{attrs:{scope:"col-1"}},[t._v("Section")]),s("th",{attrs:{scope:"col-3"}},[t._v("Course Name")]),s("th",{attrs:{scope:"col-1"}},[t._v("Day")]),s("th",{attrs:{scope:"col-1"}},[t._v("Timeslot")]),s("th",{attrs:{scope:"col-1"}},[t._v("Room")]),s("th",{attrs:{scope:"col-2"}},[t._v("Professor")])])])}],st=s("dc09"),at=s("88e1"),ot=s("a7c0");s("6ef4"),s("c381"),s("f4f4");var it={components:{"student-header":V,FullCalendar:st["a"],spinner:W},data:function(){return{courses:[],calendarPlugins:[at["d"],ot["a"]],calendarEvents:[],coursesLoaded:!1,currentUser:"",coursesToDelete:[],showSuccessAlert:!1,showFailureAlert:!1,alertMsg:""}},methods:{convertToEvents:function(t){this.calendarEvents=[];for(var e=0;e<t.length;e++)for(var s=t[e],a=0;a<s.classtimes.length;a++){var o=s.classtimes[a];console.log(o),this.calendarEvents.push({title:s.code+" "+s.section+"\n"+o.room,daysOfWeek:[this.determineDay(o.day)],startTime:o.time.from,endTime:o.time.to})}console.log(this.calendarEvents)},determineDay:function(t){return"M"==t?"1":"T"==t?"2":"W"==t?"3":"H"==t?"4":"F"==t?"5":"S"==t?"6":"L"==t?"0":void 0},updateCourses:function(){var t=this;this.coursesLoaded=!1,this.axios.get("http://localhost:5656/api/students/"+this.currentUser+"/courses").then((function(e){t.courses=e.data,t.convertToEvents(t.courses),t.coursesLoaded=!0})).catch((function(t){return console.log(t)}))},dropCourses:function(){var t=this;this.showSuccessAlert=!1,this.showFailureAlert=!1,this.coursesLoaded=!1,this.axios.patch("http://localhost:5656/api/students/"+this.currentUser+"/courses",{action:"DROP",courses:this.coursesToDelete}).then((function(){t.coursesToDelete=[],t.updateCourses(),t.showFailureAlert=!1,t.showSuccessAlert=!0})).catch((function(e){t.alertMsg=e,t.showFailureAlert=!0,console.log(e)})).finally((function(){t.coursesLoaded=!0}))}},created:function(){var t=this;this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/students/authenticate-session",{headers:{withCredentials:!0}}).then((function(e){e.data.user_id?(console.log("User ID from session: "+e.data.user_id),t.currentUser=e.data.user_id,t.updateCourses()):t.$router.push({name:"loginStudent"})})).catch((function(t){console.log(t)}))}},rt=it,nt=(s("4c32"),Object(l["a"])(rt,tt,et,!1,null,"10751a3e",null)),lt=nt.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("admin-header"),s("div",{staticClass:"rounded-0 border-dark px-2 px-md-5 py-5 mx-md-5 my-md-5",staticStyle:{"background-color":"#ffffff","box-shadow":"20px 20px 50px 10px black"},attrs:{id:"content"}},[s("h1",{},[t._v("Course List")]),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table allign-text-center text-center allign-middle"},[t._m(0),s("tbody",[t._l(t.courses,(function(e,a){return[t._l(e.classtimes,(function(o,i){return s("tr",{key:a+"-"+i,class:a%2==0?"odd":""},[0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.classnum)+" ")]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.code)+" ")]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.section)+" ")]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.name)+" ")]):t._e(),s("td",[t._v(" "+t._s("C"==o.day?o.date:o.day)+" ")]),s("td",[t._v(" "+t._s(o.time.from)+"-"+t._s(o.time.to)+" ")]),s("td",[t._v(" "+t._s(o.room)+" ")]),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[s("span",{staticClass:"h4"},[t._v(t._s(e.enrolled.length))]),t._v(" / "+t._s(e.slots))]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[t._v(" "+t._s(e.professor)+" ")]):t._e(),0==i?s("td",{attrs:{rowspan:e.classtimes.length,scope:"col"}},[s("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"adminEditCourse",params:{classnum:e.classnum}},role:"button"}},[t._v("Manage")])],1):t._e()])})),s("tr",{key:a})]}))],2)])])])],1)},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Class Number")]),s("th",[t._v("Code")]),s("th",[t._v("Course Name")]),s("th",[t._v("Section")]),s("th",[t._v("Days")]),s("th",[t._v("Timeslot")]),s("th",[t._v("Room")]),s("th",[t._v("Slots")]),s("th",[t._v("Professor")]),s("th")])])}],dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand d-flex align-items-center justify-content-center",staticStyle:{"font-family":"'EB Garamond', serif"},attrs:{to:{name:"adminManage"}}},[a("img",{staticStyle:{height:"50px","margin-right":"10px"},attrs:{src:s("8409")}}),t._v("ANIMOSIS ")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarTogglerDemo02"}},[a("ul",{staticClass:"navbar-nav mr-auto mt-2 mt-lg-0"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminManage"}}},[t._v("Manage courses")])],1),a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminAdd"}}},[t._v("Add course")])],1)]),a("ul",{staticClass:"navbar-nav mt-2 mt-lg-0 justify-content-end"},[a("li",{staticClass:"nav-item active"},[a("button",{staticClass:"astext nav-link",on:{click:t.logout}},[t._v("Logout")])])])])],1)},mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],ht={methods:{logout:function(){var t=this;console.log("User logging out..."),this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/admin/logout",{headers:{withCredentials:!0}}).then((function(e){console.log(e.data),t.$router.push({name:"loginAdmin"})})).catch((function(t){console.log(t)}))}}},pt=ht,vt=(s("4c85"),Object(l["a"])(pt,dt,mt,!1,null,"3de129dc",null)),ft=vt.exports,gt={components:{"admin-header":ft},data:function(){return{courses:[]}},methods:{getDays:function(t){for(var e="",s=0;s<t.classtimes.length;s++)e+=t.classtimes[s].day;return e},getTimeSlot:function(t){return t.classtimes[0].time.from+"-"+t.classtimes[0].time.to},getRoom:function(t){return t.classtimes[0].room}},created:function(){var t=this;this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/admin/authenticate-session",{headers:{withCredentials:!0}}).then((function(e){e.data.admin_id?(console.log("admin ID from session: "+e.data.admin_id),t.axios.get("http://localhost:5656/api/courses/").then((function(e){console.log(e.data),t.courses=e.data.sort((function(t,e){return t.classnum-e.classnum}))}))):(console.log("Unauthorized access"),t.$router.push({name:"loginAdmin"}))})).catch((function(t){console.log(t)}))}},Ct=gt,_t=(s("9855"),Object(l["a"])(Ct,ct,ut,!1,null,"1c160a2b",null)),bt=_t.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("admin-header"),s("course-form",{attrs:{action:"ADD"}})],1)},wt=[],xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rounded-0 border-dark px-3 px-md-5 py-5 mx-md-5 my-md-5",staticStyle:{"background-color":"#ffffff","box-shadow":"20px 20px 50px 10px black"},attrs:{id:"content"}},[s("div",{staticClass:"h1"},[t._v(t._s(t.action[0].toUpperCase()+t.action.substr(1).toLowerCase())+" Course")]),t.loaded||t.deleted?t._e():s("spinner"),t.loaded?s("form",{attrs:{method:"post",novalidate:""},on:{submit:function(t){t.preventDefault()}}},[t.alert.show?s("alert-box",{attrs:{kind:t.alert.kind,message:t.alert.message}}):t._e(),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"CNum"}},[t._v("Course Number")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.course.classnum,expression:"course.classnum",modifiers:{trim:!0}}],staticClass:"form-control",class:t.invalid.classnum?"is-invalid":"",attrs:{type:"text",id:"CNum",required:"",placeholder:"Course Number",disabled:"EDIT"==t.action},domProps:{value:t.course.classnum},on:{change:t.isValidClassNum,input:function(e){e.target.composing||t.$set(t.course,"classnum",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.invalid.classnum?s("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.invalid.classnum))]):t._e()]),s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"CCode"}},[t._v("Course Code")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.course.code,expression:"course.code",modifiers:{trim:!0}}],staticClass:"form-control",class:t.invalid.code?"is-invalid":"",attrs:{type:"text",id:"CCode",required:"",placeholder:"Course Code"},domProps:{value:t.course.code},on:{change:t.isValidCode,input:function(e){e.target.composing||t.$set(t.course,"code",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.invalid.code?s("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.invalid.code))]):t._e()]),s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"CSection"}},[t._v("Course Section")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.course.section,expression:"course.section",modifiers:{trim:!0}}],staticClass:"form-control",class:t.invalid.section?"is-invalid":"",attrs:{type:"text",id:"CSection",placeholder:"Section",required:""},domProps:{value:t.course.section},on:{change:function(e){return t.isValidField("section")},input:function(e){e.target.composing||t.$set(t.course,"section",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.invalid.section?s("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.invalid.section))]):t._e()]),s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"CSlots"}},[t._v("Number of Slots")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.course.slots,expression:"course.slots"}],staticClass:"form-control",class:t.invalid.slots?"is-invalid":"",attrs:{type:"number",id:"CSlots",min:"1",placeholder:"Number of Slots"},domProps:{value:t.course.slots},on:{change:t.isValidSlots,input:function(e){e.target.composing||t.$set(t.course,"slots",e.target.value)}}}),t.invalid.slots?s("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.invalid.slots))]):t._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-left",attrs:{for:"CName"}},[t._v("Course Name")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.course.name,expression:"course.name",modifiers:{trim:!0}}],staticClass:"form-control",class:t.invalid.name?"is-invalid":"",attrs:{type:"text",id:"CName",placeholder:"Course Name",required:""},domProps:{value:t.course.name},on:{change:function(e){return t.isValidField("name")},input:function(e){e.target.composing||t.$set(t.course,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.invalid.name?s("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.invalid.name))]):t._e()]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-left",attrs:{for:"CProf"}},[t._v("Tentative Professor")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.course.professor,expression:"course.professor",modifiers:{trim:!0}}],staticClass:"form-control",class:t.invalid.professor?"is-invalid":"",attrs:{type:"text",id:"CProf",placeholder:"Tentative Professor",required:""},domProps:{value:t.course.professor},on:{change:function(e){return t.isValidField("professor")},input:function(e){e.target.composing||t.$set(t.course,"professor",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.invalid.professor?s("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.invalid.professor))]):t._e()]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-1"},[s("label",{staticClass:"text-left",attrs:{for:"CUnits"}},[t._v("Units")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.course.units,expression:"course.units",modifiers:{trim:!0}}],staticClass:"form-control",class:t.invalid.units?"is-invalid":"",attrs:{type:"number",id:"CUnits",required:"",step:"0.1",min:"0",placeholder:"No. of Units"},domProps:{value:t.course.units},on:{change:t.isValidUnits,input:function(e){e.target.composing||t.$set(t.course,"units",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.invalid.units?s("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.invalid.units))]):t._e()]),s("div",{staticClass:"form-group col-md-7"}),s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"AYStart"}},[t._v("Academic Year")]),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.course.term.acadyear.from,expression:"course.term.acadyear.from"}],staticClass:"form-control",class:t.invalid.term.acadyear.from?"is-invalid":"",attrs:{type:"number",id:"AYStart",required:"",placeholder:"Year From"},domProps:{value:t.course.term.acadyear.from},on:{change:function(e){t.course.term.acadyear.to=parseInt(t.course.term.acadyear.from)+1,t.isValidTerm()},input:function(e){e.target.composing||t.$set(t.course.term.acadyear,"from",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.course.term.acadyear.to,expression:"course.term.acadyear.to"}],staticClass:"form-control",class:t.invalid.term.acadyear.to?"is-invalid":"",attrs:{type:"number",id:"AYEnd",required:"",placeholder:"Year To"},domProps:{value:t.course.term.acadyear.to},on:{change:function(e){t.course.term.acadyear.from=parseInt(t.course.term.acadyear.to)-1,t.isValidTerm()},input:function(e){e.target.composing||t.$set(t.course.term.acadyear,"to",e.target.value)}}})]),t.invalid.term.acadyear.from?s("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.invalid.term.acadyear.from))]):t._e()]),s("div",{staticClass:"form-group col-md-1"},[s("label",{staticClass:"text-left",attrs:{for:"TNo"}},[t._v("Term")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.course.term.termno,expression:"course.term.termno"}],staticClass:"custom-select",attrs:{id:"TNo"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.course.term,"termno",e.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"",value:"1"}},[t._v("1")]),s("option",{attrs:{selected:"",value:"2"}},[t._v("2")]),s("option",{attrs:{selected:"",value:"3"}},[t._v("3")])])])]),s("div",{staticClass:"form-group"},[s("label",[t._v("Course Schedule")]),t.invalid.schedule?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.invalid.schedule)+" ")]):t._e(),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"rounded table table-light text-center"},[s("thead",[s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("Day")]),s("th",{attrs:{colspan:"1"}},[t._v("Start Time")]),s("th",{attrs:{colspan:"1"}},[t._v("End Time")]),s("th",{attrs:{colspan:"1"}},[t._v("Room")]),s("th",[s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addClassTime}},[t._v("Add")])])])]),s("tbody",t._l(t.course.classtimes,(function(e,a){return s("tr",{key:a,class:t.invalid.classtimes[a]?"table-danger":""},[s("td",[s("div",{staticClass:"input-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.day,expression:"ct.day"}],staticClass:"custom-select",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"day",s.target.multiple?a:a[0])},t.isValidSchedule]}},[s("option",{attrs:{selected:"",value:"M"}},[t._v("Monday")]),s("option",{attrs:{value:"T"}},[t._v("Tuesday")]),s("option",{attrs:{value:"W"}},[t._v("Wednesday")]),s("option",{attrs:{value:"H"}},[t._v("Thursday")]),s("option",{attrs:{value:"F"}},[t._v("Friday")]),s("option",{attrs:{value:"S"}},[t._v("Saturday")]),s("option",{attrs:{value:"L"}},[t._v("Sunday")]),s("option",{attrs:{value:"C"}},[t._v("Custom Date")])]),"C"==e.day?s("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"ct.date"}],staticClass:"form-control",attrs:{type:"date",max:t.course.term.acadyear.to+"-12-31",min:t.course.term.acadyear.from+"-01-01"},domProps:{value:e.date},on:{change:t.isValidSchedule,input:function(s){s.target.composing||t.$set(e,"date",s.target.value)}}}):t._e()])]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.time.from,expression:"ct.time.from"}],staticClass:"form-control",attrs:{max:e.time.to,id:"CSTime",type:"time",required:""},domProps:{value:e.time.from},on:{input:function(s){s.target.composing||t.$set(e.time,"from",s.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.time.to,expression:"ct.time.to"}],staticClass:"form-control",attrs:{min:e.time.from,id:"CETime",type:"time",required:""},domProps:{value:e.time.to},on:{input:function(s){s.target.composing||t.$set(e.time,"to",s.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.room,expression:"ct.room",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"CRoom",placeholder:"Room",required:""},domProps:{value:e.room},on:{input:function(s){s.target.composing||t.$set(e,"room",s.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("td",[s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button",disabled:t.course.classtimes.length<2},on:{click:function(e){return t.deleteClassTime(a)}}},[t._v(" Delete ")])])])})),0)])])]),"ADD"==t.action?s("div",{staticClass:"form-row text-center"},[s("div",{staticClass:"col-md-10"}),s("button",{staticClass:"btn btn-success col-md-2 col-12",attrs:{id:"btnAdd",name:"add",type:"submit",disabled:t.invalid.any},on:{click:t.addCourse}},[t._v(" Add Course ")])]):s("div",{staticClass:"form-row text-center"},[s("button",{staticClass:"btn btn-outline-danger col-md-1 col-3",attrs:{id:"btnDelete",name:"delete",type:"submit","data-toggle":"modal","data-target":"#deleteCourseModal"}},[t._v(" Delete Course ")]),s("span",{staticClass:"col-md-9 col-1"}),s("button",{staticClass:"btn btn-success col-md-2 col-8",attrs:{id:"btnUpdate",name:"update",type:"submit",disabled:t.invalid.any},on:{click:t.editCourse}},[t._v(" Update Course ")])])],1):t._e(),t.deleted?s("div",{staticClass:"h2 text-center"},[s("div",{staticClass:"m-4"},[t._v("Course deleted successfully.")]),s("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminManage"}}},[s("button",{staticClass:"btn btn-success"},[t._v("Return to course listing")])])],1):t._e(),s("div",{staticClass:"modal fade",attrs:{id:"deleteCourseModal",tabindex:"-1",role:"dialog","aria-labelledby":"deleteCourseModelLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[t._v(" Are you sure you want to delete this course? ")]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.deleteCourse}},[t._v("Delete Course")])])])])])],1)},St=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"deleteCourseModelLabel"}},[t._v("Confirm deletion of course")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],kt=(s("4160"),s("a434"),s("b0c0"),s("a9e3"),s("07ac"),s("159b"),s("d4ec")),Nt=s("ade3"),At=s("f90c"),Tt=s.n(At),Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert",class:t.class_,attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")])},$t=[],Mt={props:{kind:{type:String},message:{type:String}},data:function(){return{}},computed:{class_:function(){return"alert-"+this.kind}}},Et=Mt,Ot=Object(l["a"])(Et,Dt,$t,!1,null,null,null),Pt=Ot.exports,jt=function t(){Object(kt["a"])(this,t),Object(Nt["a"])(this,"day","M"),Object(Nt["a"])(this,"date",""),Object(Nt["a"])(this,"time",{from:"",to:""}),Object(Nt["a"])(this,"room","")},It=function t(){Object(kt["a"])(this,t),Object(Nt["a"])(this,"classnum",""),Object(Nt["a"])(this,"name",""),Object(Nt["a"])(this,"section",""),Object(Nt["a"])(this,"units",0),Object(Nt["a"])(this,"term",{acadyear:{from:(new Date).getFullYear(),to:(new Date).getFullYear()+1},termno:1}),Object(Nt["a"])(this,"classtimes",[new jt]),Object(Nt["a"])(this,"enrolled",[]),Object(Nt["a"])(this,"slots",1),Object(Nt["a"])(this,"professor","")},Ft={components:{"alert-box":Pt,spinner:W},props:{action:{type:String,default:"ADD"},classnum:{type:Number,default:1}},data:function(){return{course:new It,loaded:!1,deleted:!1,alert:{show:!1,kind:"success",message:""},invalid:{classnum:!1,code:!1,name:!1,section:!1,term:{acadyear:{from:!1,to:!1}},classtimes:[],schedule:!1,slots:!1,professor:!1,units:!1,get any(){return this.classnum||this.code||this.name||this.section||this.term.acadyear.from||this.term.acadyear.to||this.schedule||this.slots||this.professor||this.units}}}},methods:{addCourse:function(){var t=this;this.validateInfo()&&(this.loaded=!1,this.alert.show=!1,this.axios.post("http://localhost:5656/api/courses/",this.course).then((function(e){console.log(e.data.message),t.alert.kind="success",t.alert.message="Course added successfully!",t.course=new It})).catch((function(e){t.alert.kind="danger",t.alert.message=e})).finally((function(){t.alert.show=!0,t.loaded=!0})))},editCourse:function(){var t=this;this.validateInfo()&&(this.loaded=!1,this.alert.show=!1,this.axios.put("http://localhost:5656/api/courses/number/"+this.course.classnum,this.course).then((function(e){t.alert.kind="success",t.alert.message="Course updated successfully!",console.log(e.data.message)})).catch((function(e){t.alert.kind="danger",t.alert.message=e})).finally((function(){t.alert.show=!0,t.loaded=!0})))},deleteCourse:function(){var t=this;this.loaded=!1,this.alert.show=!1,this.axios.delete("http://localhost:5656/api/courses/number/"+this.course.classnum,this.course).then((function(e){console.log(e.data.message),t.deleted=!0})).catch((function(e){t.alert.kind="danger",t.alert.message=e,t.alert.show=!0,t.loaded=!0}))},loadCourse:function(t){var e=this;this.loaded=!1,this.alert.show=!1,this.axios.get("http://localhost:5656/api/courses/number/"+t).then((function(t){return e.loaded=!0,e.course=t.data})).catch((function(t){e.alert.kind="danger",e.alert.message=t,e.alert.show=!0,e.loaded=!0}))},addClassTime:function(){this.course.classtimes.push(new jt)},isValidClassNum:function(){var t=this;this.invalid.classnum=!1;var e=this.course.classnum;return Tt.a.isEmpty(e)?(this.invalid.classnum="This is required.",!1):Tt.a.isInt(e,{min:0})?("ADD"==this.action&&this.axios.get("http://localhost:5656/api/courses/number/"+e).then((function(e){if(e.data)return t.invalid.classnum="Number is already taken.",!1})),!0):(this.invalid.classnum="This must be an integer greater than or equal to zero.",!1)},isValidCode:function(){this.invalid.code=!1;var t=this.course.code;return Tt.a.isEmpty(t)?(this.invalid.code="This is required.",!1):!!Tt.a.isLength(t,{min:7,max:7})||(this.invalid.code="Code must be exactly seven characters.",!1)},isValidField:function(t){return this.invalid[t]=!1,"string"!==typeof this.course[t]||!Tt.a.isEmpty(this.course[t])||(this.invalid[t]="This is required.",!1)},isValidSchedule:function(){this.invalid.schedule=!1;for(var t=this.course.classtimes,e={L:0,M:1,T:2,W:3,H:4,F:5,S:6,C:-1},s=0;s<t.length;s++)this.invalid.classtimes[s]=!1,t[s].time.to<t[s].time.from&&(this.invalid.schedule="Your schedule contains conflicting times or rooms! Please make sure that all fields are properly filled and that no timeslots overlap.",this.invalid.classtimes[s]=!0);for(var a=0;a<t.length;a++)for(var o=t[a],i=a+1;i<t.length;i++){var r=t[i],n="C"==o.day?new Date(o.date).getDay():e[o.day],l="C"==r.day?new Date(r.date).getDay():e[r.day];n==l&&r.time.from<o.time.to&&o.time.from<r.time.to&&o.room==r.room&&(this.invalid.classtimes[a]=this.invalid.classtimes[i]=!0,this.invalid.schedule="Your schedule contains conflicting times or rooms! Please make sure that all fields are properly filled and that no timeslots overlap.")}return!this.invalid.schedule},isValidUnits:function(){return this.invalid.units=!1,this.isValidField("units")&&this.course.units<0&&(this.invalid.units="This must be a number greater than or equal to 0."),!this.invalid.units},isValidTerm:function(){return this.invalid.term.acadyear.from=this.invalid.term.acadyear.to=!1,this.course.term.acadyear.from<=0&&this.course.term.acadyear.to<=0&&(this.invalid.term.acadyear.from=this.invalid.term.acadyear.to="Years must be a positive integer."),this.isValidField("term.acadyear.from")&&this.isValidField("term.acadyear.to")&&this.course.term.acadyear.from-this.course.term.acadyear.to==1&&(this.invalid.term.acadyear.from=this.invalid.term.acadyear.to="Years must only be 1 year apart of each other."),!this.invalid.term.acadyear.from},isValidSlots:function(){return this.invalid.slots=!1,this.isValidField("slots")&&this.course.slots<=0&&(this.invalid.slots="This must be an integer greater than 0."),!this.invalid.slots},deleteClassTime:function(t){this.course.classtimes.splice(t,1),this.isValidSchedule()},checkBlanks:function(){Object.values(this.course).forEach((function(t){console.log(t)}))},validateInfo:function(){var t=!0;return t=this.isValidUnits()&&t,t=this.isValidTerm()&&t,t=this.isValidSlots()&&t,t=this.isValidSchedule()&&t,t=this.isValidClassNum()&&t,t=this.isValidCode()&&t,t=this.isValidField("name")&&t,t=this.isValidField("section")&&t,t=this.isValidField("professor")&&t,t}},created:function(){"EDIT"==this.action?this.loadCourse(this.classnum):this.loaded=!0}},Vt=Ft,Ut=(s("ff29"),Object(l["a"])(Vt,xt,St,!1,null,"c38df63e",null)),Rt=Ut.exports,qt={components:{"admin-header":ft,"course-form":Rt},created:function(){var t=this;this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/admin/authenticate-session",{headers:{withCredentials:!0}}).then((function(e){e.data.admin_id?console.log("Admin logged in"):(console.log("Unauthorized access"),t.$router.push({name:"loginAdmin"}))})).catch((function(t){console.log(t)}))}},Lt=qt,Yt=Object(l["a"])(Lt,yt,wt,!1,null,null,null),zt=Yt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("admin-header"),s("course-form",{attrs:{action:"EDIT",classnum:t.classnum}})],1)},Bt=[],Gt={components:{"admin-header":ft,"course-form":Rt},data:function(){return{classnum:this.$route.params.classnum}},created:function(){var t=this;this.axios.defaults.withCredentials=!0,this.axios.get("http://localhost:5656/api/admin/authenticate-session",{headers:{withCredentials:!0}}).then((function(e){console.log(e.data),e.data.admin_id?console.log("Admin logged in"):(console.log("Unauthorized access"),t.$router.push({name:"loginAdmin"}))})).catch((function(t){console.log(t)}))}},Ht=Gt,Jt=Object(l["a"])(Ht,Wt,Bt,!1,null,null,null),Kt=Jt.exports;a["a"].use(d["a"]);var Qt=[{path:"/",name:"loginStudent",component:g,meta:{title:"ANIMOSIS"}},{path:"/register",name:"Register",component:x,meta:{title:"ANIMOSIS | Register"}},{path:"/registerSuccess",name:"RegisterSuccess",component:S["default"],meta:{title:"ANIMOSIS | Register"}},{path:"/search",name:"Search",component:Z,meta:{title:"ANIMOSIS | Search"}},{path:"/manage",name:"Manage",component:lt,meta:{title:"ANIMOSIS | Manage Courses"}},{path:"/admin",name:"loginAdmin",component:$,meta:{title:"ANIMOSIS | Admin Login"}},{path:"/admin-add",name:"adminAdd",component:zt,meta:{title:"ANIMOSIS | Admin Course Form"}},{path:"/admin-edit/:classnum",name:"adminEditCourse",component:Kt,meta:{title:"ANIMOSIS | Admin Course Form"}},{path:"/admin-manage",name:"adminManage",component:bt,meta:{title:"ANIMOSIS | Admin Manage Courses"}}],Xt=new d["a"]({mode:"history",base:"/",routes:Qt}),Zt=Xt,te=(s("4989"),s("bc3a")),ee=s.n(te),se=s("a7fe"),ae=s.n(se);a["a"].use(ae.a,ee.a),a["a"].config.productionTip=!1,new a["a"]({router:Zt,render:function(t){return t(u)}}).$mount("#app")},"5dd7":function(t,e,s){"use strict";var a=s("3030"),o=s.n(a);o.a},"5f3f":function(t,e,s){},"63c9":function(t,e,s){"use strict";var a=s("aca9"),o=s.n(a);o.a},8409:function(t,e,s){t.exports=s.p+"img/dlsu-logo.0d25adcc.png"},8451:function(t,e,s){},"85ec":function(t,e,s){},9855:function(t,e,s){"use strict";var a=s("a5a5"),o=s.n(a);o.a},"9fe1":function(t,e,s){},a041:function(t,e,s){"use strict";var a=s("1846"),o=s.n(a);o.a},a5a5:function(t,e,s){},a5c4:function(t,e,s){"use strict";var a=s("5f3f"),o=s.n(a);o.a},aca9:function(t,e,s){},b175:function(t,e,s){"use strict";var a=s("b569"),o=s.n(a);o.a},b569:function(t,e,s){},c59e:function(t,e,s){"use strict";s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return o}));var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"register-page"},[s("div",{staticClass:"form"},[s("p",{staticClass:"message-large"},[t._v("Registration successful! Click "),s("router-link",{staticClass:"link",attrs:{to:{name:"loginStudent"}}},[t._v("here")]),t._v(" to login.")],1)])])])},o=[]},d67d:function(t,e,s){},e931:function(t,e,s){"use strict";var a=s("9fe1"),o=s.n(a);o.a},eee5:function(t,e){},f4e1:function(t,e,s){},f8d8:function(t,e,s){"use strict";var a=s("eee5"),o=s.n(a);e["default"]=o.a},fbfa:function(t,e,s){"use strict";var a=s("c59e"),o=s("f8d8"),i=(s("5dd7"),s("2877")),r=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,"dcd40852",null);e["default"]=r.exports},ff29:function(t,e,s){"use strict";var a=s("d67d"),o=s.n(a);o.a}});
//# sourceMappingURL=app.59776cb8.js.map