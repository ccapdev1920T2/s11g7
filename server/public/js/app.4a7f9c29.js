(function(e){function t(t){for(var a,o,n=t[0],l=t[1],c=t[2],d=0,m=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,n=1;n<s.length;n++){var l=s[n];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("85ec"),i=s.n(a);i.a},"0979":function(e,t,s){},"0b98":function(e,t,s){},1846:function(e,t,s){},"268e":function(e,t,s){},"2ccb":function(e,t,s){},"2f84":function(e,t,s){"use strict";var a=s("2ccb"),i=s.n(a);i.a},4287:function(e,t,s){"use strict";var a=s("0979"),i=s.n(a);i.a},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],o=(s("034f"),s("2877")),n={},l=Object(o["a"])(n,i,r,!1,null,null,null),c=l.exports,u=s("8c4f"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"login-page"},[s("div",{staticClass:"form"},[s("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.input.idnum,expression:"input.idnum"}],attrs:{required:"",id:"idnum",type:"text",placeholder:"ID Number"},domProps:{value:e.input.idnum},on:{input:function(t){t.target.composing||e.$set(e.input,"idnum",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],attrs:{required:"",id:"password",type:"password",placeholder:"Password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),e._m(0),s("p",{staticClass:"error m-3"},[e._v(e._s(e.errorMessage))]),s("p",{staticClass:"message"},[e._v("Not registered? "),s("router-link",{attrs:{to:{name:"Register"}}},[e._v("Create an account")])],1),s("p",{staticClass:"message admin"},[s("router-link",{attrs:{to:{name:"loginAdmin"}}},[e._v("Login as Admin")])],1)])])])])},m=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{attrs:{type:"submit",id:"login"}},[s("b",[e._v("login")])])}],v={name:"Login",data:function(){return{input:{idnum:"",password:""},errorMessage:""}},methods:{login:function(){var e=this;this.axios.post("api/students/login",this.input).then((function(t){console.log(t.data),e.errorMessage="",e.$router.push({name:"Search"})})).catch((function(t){console.log(t),e.errorMessage="Invalid ID Number/Password"}))}},created:function(){var e=this;this.axios.defaults.withCredentials=!0,this.axios.get("api/students/authenticate-session",{headers:{withCredentials:!0}}).then((function(t){t.data.user_id?(console.log("User ID from previous session: "+t.data.user_id),e.$router.push({name:"Search"})):console.log("No previous user logged in")})).catch((function(e){console.log(e)}))}},p=v,h=(s("8335"),Object(o["a"])(p,d,m,!1,null,"dc4e8070",null)),f=h.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"register-page"},[s("div",{staticClass:"form"},[s("form",{staticClass:"register-form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.firstname,expression:"firstname"}],attrs:{required:"",id:"firstname",type:"text",placeholder:"First Name"},domProps:{value:e.firstname},on:{input:function(t){t.target.composing||(e.firstname=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.middlename,expression:"middlename"}],attrs:{required:"",id:"middlename",type:"text",placeholder:"M. Name"},domProps:{value:e.middlename},on:{input:function(t){t.target.composing||(e.middlename=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastname,expression:"lastname"}],attrs:{required:"",id:"lastname",type:"text",placeholder:"Surname"},domProps:{value:e.lastname},on:{input:function(t){t.target.composing||(e.lastname=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.idnum,expression:"idnum"}],attrs:{required:"",id:"idnum",type:"text",placeholder:"ID Number"},domProps:{value:e.idnum},on:{input:function(t){t.target.composing||(e.idnum=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{required:"",id:"address",type:"text",placeholder:"Address"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{required:"",id:"email",type:"email",placeholder:"E-mail Address",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",title:"characters@characters.domain"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.birthdate,expression:"birthdate"}],attrs:{required:"",id:"birthdate",type:"text",placeholder:"Birthday",onfocus:"(this.type='date')",onblur:"(this.type='text')"},domProps:{value:e.birthdate},on:{input:function(t){t.target.composing||(e.birthdate=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{required:"",id:"password",type:"password",placeholder:"Password",pattern:"^\\S{6,}$",title:"Must have atleast 6 characters",onchange:"this.setCustomValidity(this.validity.patternMismatch ? 'Must have at least 6 characters' : ''); if(this.checkValidity()) form.confirmpass.pattern = this.value;"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmpass,expression:"confirmpass"}],attrs:{required:"",id:"confirmpass",type:"password",placeholder:"Confirm Password",onchange:"this.setCustomValidity(this.validity.patternMismatch ? 'Please enter the same Password' : '');"},domProps:{value:e.confirmpass},on:{input:function(t){t.target.composing||(e.confirmpass=t.target.value)}}}),e._m(0),s("p",{staticClass:"message"},[e._v("Already registered? "),s("router-link",{attrs:{to:{name:"loginStudent"}}},[e._v("Sign In")])],1),s("p",{staticClass:"error"},[e._v(e._s(e.errorMessage))]),s("p",{staticClass:"success"},[e._v(e._s(e.successMessage))])])])])])},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{attrs:{id:"signup",type:"submit"}},[s("b",[e._v("sign up")])])}],C=(s("d3b7"),s("25f0"),{data:function(){return{name:"RegisterForm",confirmpass:"",firstname:"",middlename:"",lastname:"",address:"",birthdate:null,email:"",idnum:"",password:"",errorMessage:"",successMessage:""}},methods:{onSubmit:function(){var e=this,t={firstname:this.firstname,middlename:this.middlename,lastname:this.lastname,address:this.address,birthdate:new Date(Date.parse(this.birthdate)),email:this.email,idnum:this.idnum.toString(),password:this.password,courses:[]};this.axios.get("api/students/"+this.idnum).then((function(s){console.log(s.data),null!=s.data?e.errorMessage="ID Number already registered!":(e.errorMessage="",console.log("registering account..."),e.axios.post("api/students/register",t).then((function(t){console.log(t),e.successMessage="Account successfully registered! Going back to home page",window.location="/"})).catch((function(e){console.log(e)})))}))}}}),b=C,y=(s("8629"),Object(o["a"])(b,g,_,!1,null,"68670451",null)),w=y.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"login-page"},[s("div",{staticClass:"form"},[s("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.input.username,expression:"input.username"}],attrs:{required:"",id:"text",type:"text",placeholder:"Username"},domProps:{value:e.input.username},on:{input:function(t){t.target.composing||e.$set(e.input,"username",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],attrs:{required:"",id:"password",type:"password",placeholder:"Password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),e._m(0),s("p",{staticClass:"error m-3"},[e._v(e._s(e.errorMessage))]),s("p",{staticClass:"message"},[s("router-link",{attrs:{to:{name:"loginStudent"}}},[e._v("Login as Student")])],1)])])])])},k=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{attrs:{type:"submit",id:"login"}},[s("b",[e._v("login")])])}],S={data:function(){return{input:{username:"",password:""},errorMessage:""}},methods:{login:function(){var e=this;this.axios.post("api/admin/login",this.input).then((function(t){console.log(t.data),e.errorMessage="",e.$router.push({name:"adminManage"})})).catch((function(t){console.log(t),e.errorMessage="Invalid Username/Password"}))}},created:function(){var e=this;this.axios.defaults.withCredentials=!0,this.axios.get("api/admin/authenticate-session",{headers:{withCredentials:!0}}).then((function(t){t.data.admin_id?e.$router.push({name:"adminManage"}):console.log("admin not logged in")})).catch((function(e){console.log(e)}))}},T=S,N=(s("4287"),Object(o["a"])(T,x,k,!1,null,"ede9e834",null)),A=N.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("student-header"),s("search-courses")],1)},$=[],E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand d-flex align-items-center justify-content-center",staticStyle:{"font-family":"'EB Garamond', serif"},attrs:{to:{name:"Search"}}},[a("img",{staticStyle:{height:"50px","margin-right":"10px"},attrs:{src:s("8409")}}),e._v("ANIMOSIS ")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarTogglerDemo02"}},[a("ul",{staticClass:"navbar-nav mr-auto mt-2 mt-lg-0"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Search"}}},[e._v("Search courses")])],1),a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Manage"}}},[e._v("Manage courses")])],1)]),a("ul",{staticClass:"navbar-nav mt-2 mt-lg-0 justify-content-end"},[a("li",{staticClass:"nav-item active"},[a("button",{staticClass:"astext nav-link",on:{click:e.logout}},[e._v("Logout")])])])])],1)},P=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],M={methods:{logout:function(){var e=this;console.log("User logging out..."),this.axios.defaults.withCredentials=!0,this.axios.get("api/students/logout",{headers:{withCredentials:!0}}).then((function(t){console.log(t.data),e.$router.push({name:"loginStudent"})})).catch((function(e){console.log(e)}))}}},j=M,O=(s("6a16"),Object(o["a"])(j,E,P,!1,null,"7ef2e114",null)),F=O.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"align-items-center d-flex flex-column flex-fill p-lg-5 my-lg-5 my-4"},[s("div",{staticClass:"box p-lg-5 p-3 col-12",attrs:{id:"search-box"}},[s("h1",[e._v("Search courses")]),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.input,expression:"input",modifiers:{trim:!0}}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Type a course code... (e.g. CCAPDEV, MOBIDEV)",id:"courses",name:"courses"},domProps:{value:e.input},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchCourses(t)},input:function(t){t.target.composing||(e.input=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("div",{staticClass:"input-group-append",attrs:{id:"search"}},[s("button",{staticClass:"btn btn-success",attrs:{disabled:e.input.length<=0},on:{click:e.searchCourses}},[s("span",{staticStyle:{"font-size":"20px","vertical-align":"middle"}},[e._v("Search")])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showResults,expression:"showResults"}],staticClass:"box m-3 m-lg-5 p-lg-5 col-12 py-3"},[s("spinner",{directives:[{name:"show",rawName:"v-show",value:!e.resultsReady,expression:"!resultsReady"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showSuccessAlert,expression:"showSuccessAlert"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[e._v(" Course(s) successfully added! "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.showSuccessAlert=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showFailureAlert,expression:"showFailureAlert"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(e.alertMsg)+" "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.showFailureAlert=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),s("form",{directives:[{name:"show",rawName:"v-show",value:e.resultsReady,expression:"resultsReady"}],staticClass:"form",attrs:{id:"add-course"},on:{submit:function(e){e.preventDefault()}}},[s("h1",{staticClass:"d-flex justify-content-left"},[e._v("Search results")]),e.courses.length>0?s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"rounded table table-light table-bordered text-center"},[e._m(0),s("tbody",[e._l(e.courses,(function(t,a){return[e._l(t.classtimes,(function(i,r){return s("tr",{key:a+"-"+r,class:a%2==0?"odd":""},[0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.coursesToEnlist,expression:"coursesToEnlist"}],staticClass:"form-check-input position-static",attrs:{type:"checkbox"},domProps:{value:t.classnum,checked:Array.isArray(e.coursesToEnlist)?e._i(e.coursesToEnlist,t.classnum)>-1:e.coursesToEnlist},on:{change:function(s){var a=e.coursesToEnlist,i=s.target,r=!!i.checked;if(Array.isArray(a)){var o=t.classnum,n=e._i(a,o);i.checked?n<0&&(e.coursesToEnlist=a.concat([o])):n>-1&&(e.coursesToEnlist=a.slice(0,n).concat(a.slice(n+1)))}else e.coursesToEnlist=r}}})])]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.code)+" ")]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.section)+" ")]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.name)+" ")]):e._e(),s("td",[e._v(" "+e._s("C"==i.day?i.date:i.day)+" ")]),s("td",[e._v(" "+e._s(i.time.from)+"-"+e._s(i.time.to)+" ")]),s("td",[e._v(" "+e._s(i.room)+" ")]),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[s("span",{staticClass:"h4"},[e._v(e._s(t.enrolled.length))]),e._v(" / "+e._s(t.slots))]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.professor)+" ")]):e._e()])})),s("tr",{key:a})]}))],2)])]):s("p",[e._v("No results found.")]),s("input",{staticClass:"btn btn-success",attrs:{type:"submit",value:"Add courses",disabled:0==e.courses.length||0==e.coursesToEnlist},on:{click:function(t){return e.enlistCourses()}}})])],1)])},U=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",{staticClass:"thead"},[s("tr",[s("th",{attrs:{scope:"col-1"}}),s("th",{attrs:{scope:"col-1"}},[e._v("Code")]),s("th",{attrs:{scope:"col-1"}},[e._v("Section")]),s("th",{attrs:{scope:"col-3"}},[e._v("Course Name")]),s("th",{attrs:{scope:"col-1"}},[e._v("Day")]),s("th",{attrs:{scope:"col-1"}},[e._v("Timeslot")]),s("th",{attrs:{scope:"col-1"}},[e._v("Room")]),s("th",{attrs:{scope:"col-1"}},[e._v("Slots")]),s("th",{attrs:{scope:"col-2"}},[e._v("Professor")])])])}],q=(s("4de4"),s("caad"),s("c975"),s("d81d"),s("2532"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),R=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sk-cube-grid"},[s("div",{staticClass:"sk-cube sk-cube1"}),s("div",{staticClass:"sk-cube sk-cube2"}),s("div",{staticClass:"sk-cube sk-cube3"}),s("div",{staticClass:"sk-cube sk-cube4"}),s("div",{staticClass:"sk-cube sk-cube5"}),s("div",{staticClass:"sk-cube sk-cube6"}),s("div",{staticClass:"sk-cube sk-cube7"}),s("div",{staticClass:"sk-cube sk-cube8"}),s("div",{staticClass:"sk-cube sk-cube9"})])}],L=(s("a5c4"),{}),I=Object(o["a"])(L,q,R,!1,null,null,null),Y=I.exports,z={components:{spinner:Y},data:function(){return{input:"",showResults:!1,courses:[],resultsReady:!1,coursesToEnlist:[],showSuccessAlert:!1,showFailureAlert:!1,currentUser:"",alertMsg:"",enlistedCourses:[]}},methods:{searchCourses:function(){var e=this;this.showResults=!0,this.resultsReady=!1,this.showFailureAlert=!1,this.axios.get("api/courses/code/"+this.input).then((function(t){console.log(t.data),e.courses=t.data,console.log(e.courses)})).catch((function(t){e.alertMsg=t,e.showFailureAlert=!0})).finally((function(){e.resultsReady=!0}))},getCourses:function(){var e=this;this.axios.get("api/students/"+this.currentUser+"/courses").then((function(t){console.log(t.data),e.enlistedCourses=t.data,e.resultsReady=!0}))},validCourses:function(){var e=this.coursesToEnlist.map((function(e){return e["code"]})),t=function(e){return e.filter((function(t,s){return e.indexOf(t)!=s}))};return 0==t(e).length},enlistCourses:function(){var e=this;this.showSuccessAlert=!1,this.showFailureAlert=!1,this.resultsReady=!1;var t=this.coursesToEnlist.map((function(e){return e["classnum"]}));this.validCourses()?this.axios.patch("api/students/"+this.currentUser+"/courses",{action:"ENLIST",courses:t}).then((function(){e.showSuccessAlert=!0,console.log("succeeded!")})).catch((function(t){e.alertMsg=t.message,e.showFailureAlert=!0,console.log(t)})).finally((function(){e.resultsReady=!0})):(console.log("Trying to enlist to the same course subject!"),this.alertMsg="You cannot enlist in the same subject!",this.showFailureAlert=!0,this.resultsReady=!0,scroll(0,0))},isSelectable:function(e){var t=this.enlistedCourses.map((function(e){return e.classnum}));return!t.includes(e.classnum)}},created:function(){var e=this;this.axios.defaults.withCredentials=!0,this.axios.get("api/students/authenticate-session",{headers:{withCredentials:!0}}).then((function(t){t.data.user_id?(console.log("User ID from session: "+t.data.user_id),e.currentUser=t.data.user_id,e.getCourses()):e.$router.push({name:"loginStudent"})})).catch((function(e){console.log(e)}))}},W=z,B=(s("646d"),Object(o["a"])(W,V,U,!1,null,"8e1ba98c",null)),G=B.exports,H={components:{"student-header":F,"search-courses":G}},J=H,K=(s("a041"),Object(o["a"])(J,D,$,!1,null,"08ac2c8c",null)),Q=K.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("student-header"),s("div",{staticClass:"px-lg-5 py-lg-5 py-3 align-items-center"},[s("div",{staticClass:"box my-3 p-3"},[s("div",{staticClass:"col-12 p-3"},[s("h1",{staticClass:"d-flex justify-content-left"},[e._v("Your class schedule")]),s("spinner",{directives:[{name:"show",rawName:"v-show",value:!e.coursesLoaded,expression:"!coursesLoaded"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.coursesLoaded,expression:"coursesLoaded"}],attrs:{id:"calendar"}},[s("FullCalendar",{attrs:{defaultView:"timeGridWeek",plugins:e.calendarPlugins,header:!1,events:e.calendarEvents,eventColor:"rgb(0, 112, 60)",eventTextColor:"white",allDaySlot:!1,hiddenDays:[0],minTime:"07:30:00",maxTime:"21:30:00",height:"auto",columnHeaderFormat:{weekday:"short"}}})],1)],1),s("div",{staticClass:"col-12 p-3"},[s("form",{staticClass:"form",on:{submit:function(e){e.preventDefault()}}},[s("h1",{staticClass:"d-flex justify-content-left"},[e._v("Courses")]),s("spinner",{directives:[{name:"show",rawName:"v-show",value:!e.coursesLoaded,expression:"!coursesLoaded"}]}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showSuccessAlert,expression:"showSuccessAlert"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[e._v(" Course(s) successfully dropped! "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.showSuccessAlert=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showFailureAlert,expression:"showFailureAlert"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(e.alertMsg)+" "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.showFailureAlert=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.coursesLoaded,expression:"coursesLoaded"}],staticClass:"table-responsive"},[s("p",{directives:[{name:"show",rawName:"v-show",value:0==e.courses.length,expression:"courses.length == 0"}]},[e._v(" You have no courses! ")]),s("table",{directives:[{name:"show",rawName:"v-show",value:e.courses.length>0,expression:"courses.length > 0"}],staticClass:"table table-sm table-light text-center"},[e._m(0),s("tbody",[e._l(e.courses,(function(t,a){return[e._l(t.classtimes,(function(i,r){return s("tr",{key:r,class:a%2==0?"odd":""},[0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.coursesToDelete,expression:"coursesToDelete"}],staticClass:"form-check-input position-static",attrs:{type:"checkbox"},domProps:{value:t.classnum,checked:Array.isArray(e.coursesToDelete)?e._i(e.coursesToDelete,t.classnum)>-1:e.coursesToDelete},on:{change:function(s){var a=e.coursesToDelete,i=s.target,r=!!i.checked;if(Array.isArray(a)){var o=t.classnum,n=e._i(a,o);i.checked?n<0&&(e.coursesToDelete=a.concat([o])):n>-1&&(e.coursesToDelete=a.slice(0,n).concat(a.slice(n+1)))}else e.coursesToDelete=r}}})])]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.code)+" ")]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.section)+" ")]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.name)+" ")]):e._e(),s("td",[e._v(" "+e._s("C"==i.day?i.date:i.day)+" ")]),s("td",[e._v(" "+e._s(i.time.from)+"-"+e._s(i.time.to)+" ")]),s("td",[e._v(" "+e._s(i.room)+" ")]),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.professor)+" ")]):e._e()])})),s("tr",{key:a})]}))],2)]),s("input",{staticClass:"btn btn-danger",attrs:{type:"submit",value:"Remove courses",disabled:0==e.courses.length||0==e.coursesToDelete},on:{click:function(t){return e.dropCourses()}}})])],1)])])])],1)},Z=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",{staticClass:"thead"},[s("tr",[s("th",{attrs:{scope:"col-1"}}),s("th",{attrs:{scope:"col-1"}},[e._v("Code")]),s("th",{attrs:{scope:"col-1"}},[e._v("Section")]),s("th",{attrs:{scope:"col-3"}},[e._v("Course Name")]),s("th",{attrs:{scope:"col-1"}},[e._v("Day")]),s("th",{attrs:{scope:"col-1"}},[e._v("Timeslot")]),s("th",{attrs:{scope:"col-1"}},[e._v("Room")]),s("th",{attrs:{scope:"col-2"}},[e._v("Professor")])])])}],ee=s("dc09"),te=s("88e1"),se=s("a7c0");s("6ef4"),s("c381"),s("f4f4");var ae={components:{"student-header":F,FullCalendar:ee["a"],spinner:Y},data:function(){return{courses:[],calendarPlugins:[te["d"],se["a"]],calendarEvents:[],coursesLoaded:!1,currentUser:"",coursesToDelete:[],showSuccessAlert:!1,showFailureAlert:!1,alertMsg:""}},methods:{convertToEvents:function(e){this.calendarEvents=[];for(var t=0;t<e.length;t++)for(var s=e[t],a=0;a<s.classtimes.length;a++){var i=s.classtimes[a];console.log(i),this.calendarEvents.push({title:s.code+" "+s.section+"\n"+i.room,daysOfWeek:[this.determineDay(i.day)],startTime:i.time.from,endTime:i.time.to})}console.log(this.calendarEvents)},determineDay:function(e){return"M"==e?"1":"T"==e?"2":"W"==e?"3":"H"==e?"4":"F"==e?"5":"S"==e?"6":"L"==e?"0":void 0},updateCourses:function(){var e=this;this.coursesLoaded=!1,this.axios.get("api/students/"+this.currentUser+"/courses").then((function(t){e.courses=t.data,e.convertToEvents(e.courses),e.coursesLoaded=!0})).catch((function(e){return console.log(e)}))},dropCourses:function(){var e=this;this.showSuccessAlert=!1,this.showFailureAlert=!1,this.coursesLoaded=!1,this.axios.patch("api/students/"+this.currentUser+"/courses",{action:"DROP",courses:this.coursesToDelete}).then((function(){e.coursesToDelete=[],e.updateCourses(),e.showFailureAlert=!1,e.showSuccessAlert=!0})).catch((function(t){e.alertMsg=t,e.showFailureAlert=!0,console.log(t)})).finally((function(){e.coursesLoaded=!0}))}},created:function(){var e=this;this.axios.defaults.withCredentials=!0,this.axios.get("api/students/authenticate-session",{headers:{withCredentials:!0}}).then((function(t){t.data.user_id?(console.log("User ID from session: "+t.data.user_id),e.currentUser=t.data.user_id,e.updateCourses()):e.$router.push({name:"loginStudent"})})).catch((function(e){console.log(e)}))}},ie=ae,re=(s("bfc2"),Object(o["a"])(ie,X,Z,!1,null,"99cd67d6",null)),oe=re.exports,ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("admin-header"),s("div",{staticClass:"rounded-0 border-dark px-2 px-md-5 py-5 mx-md-5 my-md-5",staticStyle:{"background-color":"#ffffff","box-shadow":"20px 20px 50px 10px black"},attrs:{id:"content"}},[s("h1",{},[e._v("Course List")]),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table allign-text-center text-center allign-middle"},[e._m(0),s("tbody",[e._l(e.courses,(function(t,a){return[e._l(t.classtimes,(function(i,r){return s("tr",{key:a+"-"+r,class:a%2==0?"odd":""},[0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.classnum)+" ")]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.code)+" ")]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.section)+" ")]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.name)+" ")]):e._e(),s("td",[e._v(" "+e._s("C"==i.day?i.date:i.day)+" ")]),s("td",[e._v(" "+e._s(i.time.from)+"-"+e._s(i.time.to)+" ")]),s("td",[e._v(" "+e._s(i.room)+" ")]),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[s("span",{staticClass:"h4"},[e._v(e._s(t.enrolled.length))]),e._v(" / "+e._s(t.slots))]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[e._v(" "+e._s(t.professor)+" ")]):e._e(),0==r?s("td",{attrs:{rowspan:t.classtimes.length,scope:"col"}},[s("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"adminEditCourse",params:{classnum:t.classnum}},role:"button"}},[e._v("Manage")])],1):e._e()])})),s("tr",{key:a})]}))],2)])])])],1)},le=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("Class Number")]),s("th",[e._v("Code")]),s("th",[e._v("Course Name")]),s("th",[e._v("Section")]),s("th",[e._v("Days")]),s("th",[e._v("Timeslot")]),s("th",[e._v("Room")]),s("th",[e._v("Slots")]),s("th",[e._v("Professor")]),s("th")])])}],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand d-flex align-items-center justify-content-center",staticStyle:{"font-family":"'EB Garamond', serif"},attrs:{to:{name:"adminManage"}}},[a("img",{staticStyle:{height:"50px","margin-right":"10px"},attrs:{src:s("8409")}}),e._v("ANIMOSIS ")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarTogglerDemo02"}},[a("ul",{staticClass:"navbar-nav mr-auto mt-2 mt-lg-0"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminManage"}}},[e._v("Manage courses")])],1),a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminAdd"}}},[e._v("Add course")])],1)]),a("ul",{staticClass:"navbar-nav mt-2 mt-lg-0 justify-content-end"},[a("li",{staticClass:"nav-item active"},[a("button",{staticClass:"astext nav-link",on:{click:e.logout}},[e._v("Logout")])])])])],1)},ue=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],de={methods:{logout:function(){var e=this;console.log("User logging out..."),this.axios.defaults.withCredentials=!0,this.axios.get("api/admin/logout",{headers:{withCredentials:!0}}).then((function(t){console.log(t.data),e.$router.push({name:"loginAdmin"})})).catch((function(e){console.log(e)}))}}},me=de,ve=(s("caee"),Object(o["a"])(me,ce,ue,!1,null,"3c7ed890",null)),pe=ve.exports,he={components:{"admin-header":pe},data:function(){return{courses:[]}},methods:{getDays:function(e){for(var t="",s=0;s<e.classtimes.length;s++)t+=e.classtimes[s].day;return t},getTimeSlot:function(e){return e.classtimes[0].time.from+"-"+e.classtimes[0].time.to},getRoom:function(e){return e.classtimes[0].room}},created:function(){var e=this;this.axios.defaults.withCredentials=!0,this.axios.get("api/admin/authenticate-session",{headers:{withCredentials:!0}}).then((function(t){t.data.admin_id?(console.log("admin ID from session: "+t.data.admin_id),e.axios.get("api/courses/").then((function(t){console.log(t.data),e.courses=t.data.sort((function(e,t){return e.classnum-t.classnum}))}))):(console.log("Unauthorized access"),e.$router.push({name:"loginAdmin"}))})).catch((function(e){console.log(e)}))}},fe=he,ge=(s("689e"),Object(o["a"])(fe,ne,le,!1,null,"196f4393",null)),_e=ge.exports,Ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("admin-header"),s("course-form",{attrs:{action:"ADD"}})],1)},be=[],ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rounded-0 border-dark px-3 px-md-5 py-5 mx-md-5 my-md-5",staticStyle:{"background-color":"#ffffff","box-shadow":"20px 20px 50px 10px black"},attrs:{id:"content"}},[s("div",{staticClass:"h1"},[e._v(e._s(e.action[0].toUpperCase()+e.action.substr(1).toLowerCase())+" Course")]),e.loaded||e.deleted?e._e():s("spinner"),e.loaded?s("form",{attrs:{method:"post",novalidate:""},on:{submit:function(e){e.preventDefault()}}},[e.alert.show?s("alert-box",{attrs:{kind:e.alert.kind,message:e.alert.message}}):e._e(),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"CNum"}},[e._v("Course Number")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.course.classnum,expression:"course.classnum",modifiers:{trim:!0}}],staticClass:"form-control",class:e.invalid.classnum?"is-invalid":"",attrs:{type:"text",id:"CNum",required:"",placeholder:"Course Number",disabled:"EDIT"==e.action},domProps:{value:e.course.classnum},on:{change:e.isValidClassNum,input:function(t){t.target.composing||e.$set(e.course,"classnum",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.invalid.classnum?s("small",{staticClass:"form-text text-danger"},[e._v(e._s(e.invalid.classnum))]):e._e()]),s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"CCode"}},[e._v("Course Code")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.course.code,expression:"course.code",modifiers:{trim:!0}}],staticClass:"form-control",class:e.invalid.code?"is-invalid":"",attrs:{type:"text",id:"CCode",required:"",placeholder:"Course Code"},domProps:{value:e.course.code},on:{change:e.isValidCode,input:function(t){t.target.composing||e.$set(e.course,"code",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.invalid.code?s("small",{staticClass:"form-text text-danger"},[e._v(e._s(e.invalid.code))]):e._e()]),s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"CSection"}},[e._v("Course Section")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.course.section,expression:"course.section",modifiers:{trim:!0}}],staticClass:"form-control",class:e.invalid.section?"is-invalid":"",attrs:{type:"text",id:"CSection",placeholder:"Section",required:""},domProps:{value:e.course.section},on:{change:function(t){return e.isValidField("section")},input:function(t){t.target.composing||e.$set(e.course,"section",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.invalid.section?s("small",{staticClass:"form-text text-danger"},[e._v(e._s(e.invalid.section))]):e._e()]),s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"CSlots"}},[e._v("Number of Slots")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.course.slots,expression:"course.slots"}],staticClass:"form-control",class:e.invalid.slots?"is-invalid":"",attrs:{type:"number",id:"CSlots",min:"1",placeholder:"Number of Slots"},domProps:{value:e.course.slots},on:{change:e.isValidSlots,input:function(t){t.target.composing||e.$set(e.course,"slots",t.target.value)}}}),e.invalid.slots?s("small",{staticClass:"form-text text-danger"},[e._v(e._s(e.invalid.slots))]):e._e()])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-left",attrs:{for:"CName"}},[e._v("Course Name")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.course.name,expression:"course.name",modifiers:{trim:!0}}],staticClass:"form-control",class:e.invalid.name?"is-invalid":"",attrs:{type:"text",id:"CName",placeholder:"Course Name",required:""},domProps:{value:e.course.name},on:{change:function(t){return e.isValidField("name")},input:function(t){t.target.composing||e.$set(e.course,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.invalid.name?s("small",{staticClass:"form-text text-danger"},[e._v(e._s(e.invalid.name))]):e._e()]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-left",attrs:{for:"CProf"}},[e._v("Tentative Professor")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.course.professor,expression:"course.professor",modifiers:{trim:!0}}],staticClass:"form-control",class:e.invalid.professor?"is-invalid":"",attrs:{type:"text",id:"CProf",placeholder:"Tentative Professor",required:""},domProps:{value:e.course.professor},on:{change:function(t){return e.isValidField("professor")},input:function(t){t.target.composing||e.$set(e.course,"professor",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.invalid.professor?s("small",{staticClass:"form-text text-danger"},[e._v(e._s(e.invalid.professor))]):e._e()]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-1"},[s("label",{staticClass:"text-left",attrs:{for:"CUnits"}},[e._v("Units")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.course.units,expression:"course.units",modifiers:{trim:!0}}],staticClass:"form-control",class:e.invalid.units?"is-invalid":"",attrs:{type:"number",id:"CUnits",required:"",step:"0.1",min:"0",placeholder:"No. of Units"},domProps:{value:e.course.units},on:{change:e.isValidUnits,input:function(t){t.target.composing||e.$set(e.course,"units",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.invalid.units?s("small",{staticClass:"form-text text-danger"},[e._v(e._s(e.invalid.units))]):e._e()]),s("div",{staticClass:"form-group col-md-7"}),s("div",{staticClass:"form-group col-md-3"},[s("label",{staticClass:"text-left",attrs:{for:"AYStart"}},[e._v("Academic Year")]),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.course.term.acadyear.from,expression:"course.term.acadyear.from"}],staticClass:"form-control",class:e.invalid.term.acadyear.from?"is-invalid":"",attrs:{type:"number",id:"AYStart",required:"",placeholder:"Year From"},domProps:{value:e.course.term.acadyear.from},on:{change:function(t){e.course.term.acadyear.to=parseInt(e.course.term.acadyear.from)+1,e.isValidTerm()},input:function(t){t.target.composing||e.$set(e.course.term.acadyear,"from",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.course.term.acadyear.to,expression:"course.term.acadyear.to"}],staticClass:"form-control",class:e.invalid.term.acadyear.to?"is-invalid":"",attrs:{type:"number",id:"AYEnd",required:"",placeholder:"Year To"},domProps:{value:e.course.term.acadyear.to},on:{change:function(t){e.course.term.acadyear.from=parseInt(e.course.term.acadyear.to)-1,e.isValidTerm()},input:function(t){t.target.composing||e.$set(e.course.term.acadyear,"to",t.target.value)}}})]),e.invalid.term.acadyear.from?s("small",{staticClass:"form-text text-danger"},[e._v(e._s(e.invalid.term.acadyear.from))]):e._e()]),s("div",{staticClass:"form-group col-md-1"},[s("label",{staticClass:"text-left",attrs:{for:"TNo"}},[e._v("Term")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.course.term.termno,expression:"course.term.termno"}],staticClass:"custom-select",attrs:{id:"TNo"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.course.term,"termno",t.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"",value:"1"}},[e._v("1")]),s("option",{attrs:{selected:"",value:"2"}},[e._v("2")]),s("option",{attrs:{selected:"",value:"3"}},[e._v("3")])])])]),s("div",{staticClass:"form-group"},[s("label",[e._v("Course Schedule")]),e.invalid.schedule?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(e.invalid.schedule)+" ")]):e._e(),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"rounded table table-light text-center"},[s("thead",[s("tr",[s("th",{attrs:{colspan:"1"}},[e._v("Day")]),s("th",{attrs:{colspan:"1"}},[e._v("Start Time")]),s("th",{attrs:{colspan:"1"}},[e._v("End Time")]),s("th",{attrs:{colspan:"1"}},[e._v("Room")]),s("th",[s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:e.addClassTime}},[e._v("Add")])])])]),s("tbody",e._l(e.course.classtimes,(function(t,a){return s("tr",{key:a,class:e.invalid.classtimes[a]?"table-danger":""},[s("td",[s("div",{staticClass:"input-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.day,expression:"ct.day"}],staticClass:"custom-select",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"day",s.target.multiple?a:a[0])},e.isValidSchedule]}},[s("option",{attrs:{selected:"",value:"M"}},[e._v("Monday")]),s("option",{attrs:{value:"T"}},[e._v("Tuesday")]),s("option",{attrs:{value:"W"}},[e._v("Wednesday")]),s("option",{attrs:{value:"H"}},[e._v("Thursday")]),s("option",{attrs:{value:"F"}},[e._v("Friday")]),s("option",{attrs:{value:"S"}},[e._v("Saturday")]),s("option",{attrs:{value:"L"}},[e._v("Sunday")]),s("option",{attrs:{value:"C"}},[e._v("Custom Date")])]),"C"==t.day?s("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"ct.date"}],staticClass:"form-control",attrs:{type:"date",max:e.course.term.acadyear.to+"-12-31",min:e.course.term.acadyear.from+"-01-01"},domProps:{value:t.date},on:{change:e.isValidSchedule,input:function(s){s.target.composing||e.$set(t,"date",s.target.value)}}}):e._e()])]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.time.from,expression:"ct.time.from"}],staticClass:"form-control",attrs:{max:t.time.to,id:"CSTime",type:"time",required:""},domProps:{value:t.time.from},on:{input:function(s){s.target.composing||e.$set(t.time,"from",s.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.time.to,expression:"ct.time.to"}],staticClass:"form-control",attrs:{min:t.time.from,id:"CETime",type:"time",required:""},domProps:{value:t.time.to},on:{input:function(s){s.target.composing||e.$set(t.time,"to",s.target.value)}}})]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.room,expression:"ct.room",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"CRoom",placeholder:"Room",required:""},domProps:{value:t.room},on:{input:function(s){s.target.composing||e.$set(t,"room",s.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("td",[s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button",disabled:e.course.classtimes.length<2},on:{click:function(t){return e.deleteClassTime(a)}}},[e._v(" Delete ")])])])})),0)])])]),"ADD"==e.action?s("div",{staticClass:"form-row text-center"},[s("div",{staticClass:"col-md-10"}),s("button",{staticClass:"btn btn-success col-md-2 col-12",attrs:{id:"btnAdd",name:"add",type:"submit",disabled:e.invalid.any},on:{click:e.addCourse}},[e._v(" Add Course ")])]):s("div",{staticClass:"form-row text-center"},[s("button",{staticClass:"btn btn-outline-danger col-md-1 col-3",attrs:{id:"btnDelete",name:"delete",type:"submit","data-toggle":"modal","data-target":"#deleteCourseModal"}},[e._v(" Delete Course ")]),s("span",{staticClass:"col-md-9 col-1"}),s("button",{staticClass:"btn btn-success col-md-2 col-8",attrs:{id:"btnUpdate",name:"update",type:"submit",disabled:e.invalid.any},on:{click:e.editCourse}},[e._v(" Update Course ")])])],1):e._e(),e.deleted?s("div",{staticClass:"h2 text-center"},[s("div",{staticClass:"m-4"},[e._v("Course deleted successfully.")]),s("router-link",{staticClass:"nav-link",attrs:{to:{name:"adminManage"}}},[s("button",{staticClass:"btn btn-success"},[e._v("Return to course listing")])])],1):e._e(),s("div",{staticClass:"modal fade",attrs:{id:"deleteCourseModal",tabindex:"-1",role:"dialog","aria-labelledby":"deleteCourseModelLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[e._m(0),s("div",{staticClass:"modal-body"},[e._v(" Are you sure you want to delete this course? ")]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")]),s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.deleteCourse}},[e._v("Delete Course")])])])])])],1)},we=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"deleteCourseModelLabel"}},[e._v("Confirm deletion of course")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],xe=(s("4160"),s("a434"),s("b0c0"),s("a9e3"),s("07ac"),s("159b"),s("d4ec")),ke=s("ade3"),Se=s("f90c"),Te=s.n(Se),Ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"alert",class:e.class_,attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")])},Ae=[],De={props:{kind:{type:String},message:{type:String}},data:function(){return{}},computed:{class_:function(){return"alert-"+this.kind}}},$e=De,Ee=Object(o["a"])($e,Ne,Ae,!1,null,null,null),Pe=Ee.exports,Me=function e(){Object(xe["a"])(this,e),Object(ke["a"])(this,"day","M"),Object(ke["a"])(this,"date",""),Object(ke["a"])(this,"time",{from:"",to:""}),Object(ke["a"])(this,"room","")},je=function e(){Object(xe["a"])(this,e),Object(ke["a"])(this,"classnum",""),Object(ke["a"])(this,"name",""),Object(ke["a"])(this,"section",""),Object(ke["a"])(this,"units",0),Object(ke["a"])(this,"term",{acadyear:{from:(new Date).getFullYear(),to:(new Date).getFullYear()+1},termno:1}),Object(ke["a"])(this,"classtimes",[new Me]),Object(ke["a"])(this,"enrolled",[]),Object(ke["a"])(this,"slots",1),Object(ke["a"])(this,"professor","")},Oe={components:{"alert-box":Pe,spinner:Y},props:{action:{type:String,default:"ADD"},classnum:{type:Number,default:1}},data:function(){return{course:new je,loaded:!1,deleted:!1,alert:{show:!1,kind:"success",message:""},invalid:{classnum:!1,code:!1,name:!1,section:!1,term:{acadyear:{from:!1,to:!1}},classtimes:[],schedule:!1,slots:!1,professor:!1,units:!1,get any(){return this.classnum||this.code||this.name||this.section||this.term.acadyear.from||this.term.acadyear.to||this.schedule||this.slots||this.professor||this.units}}}},methods:{addCourse:function(){var e=this;this.validateInfo()&&(this.loaded=!1,this.alert.show=!1,this.axios.post("api/courses/",this.course).then((function(t){console.log(t.data.message),e.alert.kind="success",e.alert.message="Course added successfully!",e.course=new je})).catch((function(t){e.alert.kind="danger",e.alert.message=t})).finally((function(){e.alert.show=!0,e.loaded=!0})))},editCourse:function(){var e=this;this.validateInfo()&&(this.loaded=!1,this.alert.show=!1,this.axios.put("api/courses/number/"+this.course.classnum,this.course).then((function(t){e.alert.kind="success",e.alert.message="Course updated successfully!",console.log(t.data.message)})).catch((function(t){e.alert.kind="danger",e.alert.message=t})).finally((function(){e.alert.show=!0,e.loaded=!0})))},deleteCourse:function(){var e=this;this.loaded=!1,this.alert.show=!1,this.axios.delete("api/courses/number/"+this.course.classnum,this.course).then((function(t){console.log(t.data.message),e.deleted=!0})).catch((function(t){e.alert.kind="danger",e.alert.message=t,e.alert.show=!0,e.loaded=!0}))},loadCourse:function(e){var t=this;this.loaded=!1,this.alert.show=!1,this.axios.get("api/courses/number/"+e).then((function(e){return t.loaded=!0,t.course=e.data})).catch((function(e){t.alert.kind="danger",t.alert.message=e,t.alert.show=!0,t.loaded=!0}))},addClassTime:function(){this.course.classtimes.push(new Me)},isValidClassNum:function(){var e=this;this.invalid.classnum=!1;var t=this.course.classnum;return Te.a.isEmpty(t)?(this.invalid.classnum="This is required.",!1):Te.a.isInt(t,{min:0})?("ADD"==this.action&&this.axios.get("api/courses/number/"+t).then((function(t){if(t.data)return e.invalid.classnum="Number is already taken.",!1})),!0):(this.invalid.classnum="This must be an integer greater than or equal to zero.",!1)},isValidCode:function(){this.invalid.code=!1;var e=this.course.code;return Te.a.isEmpty(e)?(this.invalid.code="This is required.",!1):!!Te.a.isLength(e,{min:7,max:7})||(this.invalid.code="Code must be exactly seven characters.",!1)},isValidField:function(e){return this.invalid[e]=!1,"string"!==typeof this.course[e]||!Te.a.isEmpty(this.course[e])||(this.invalid[e]="This is required.",!1)},isValidSchedule:function(){this.invalid.schedule=!1;for(var e=this.course.classtimes,t={L:0,M:1,T:2,W:3,H:4,F:5,S:6,C:-1},s=0;s<e.length;s++)this.invalid.classtimes[s]=!1,e[s].time.to<e[s].time.from&&(this.invalid.schedule="Your schedule contains conflicting times or rooms! Please make sure that all fields are properly filled and that no timeslots overlap.",this.invalid.classtimes[s]=!0);for(var a=0;a<e.length;a++)for(var i=e[a],r=a+1;r<e.length;r++){var o=e[r],n="C"==i.day?new Date(i.date).getDay():t[i.day],l="C"==o.day?new Date(o.date).getDay():t[o.day];n==l&&o.time.from<i.time.to&&i.time.from<o.time.to&&i.room==o.room&&(this.invalid.classtimes[a]=this.invalid.classtimes[r]=!0,this.invalid.schedule="Your schedule contains conflicting times or rooms! Please make sure that all fields are properly filled and that no timeslots overlap.")}return!this.invalid.schedule},isValidUnits:function(){return this.invalid.units=!1,this.isValidField("units")&&this.course.units<0&&(this.invalid.units="This must be a number greater than or equal to 0."),!this.invalid.units},isValidTerm:function(){return this.invalid.term.acadyear.from=this.invalid.term.acadyear.to=!1,this.course.term.acadyear.from<=0&&this.course.term.acadyear.to<=0&&(this.invalid.term.acadyear.from=this.invalid.term.acadyear.to="Years must be a positive integer."),this.isValidField("term.acadyear.from")&&this.isValidField("term.acadyear.to")&&this.course.term.acadyear.from-this.course.term.acadyear.to==1&&(this.invalid.term.acadyear.from=this.invalid.term.acadyear.to="Years must only be 1 year apart of each other."),!this.invalid.term.acadyear.from},isValidSlots:function(){return this.invalid.slots=!1,this.isValidField("slots")&&this.course.slots<=0&&(this.invalid.slots="This must be an integer greater than 0."),!this.invalid.slots},deleteClassTime:function(e){this.course.classtimes.splice(e,1),this.isValidSchedule()},checkBlanks:function(){Object.values(this.course).forEach((function(e){console.log(e)}))},validateInfo:function(){var e=!0;return e=this.isValidUnits()&&e,e=this.isValidTerm()&&e,e=this.isValidSlots()&&e,e=this.isValidSchedule()&&e,e=this.isValidClassNum()&&e,e=this.isValidCode()&&e,e=this.isValidField("name")&&e,e=this.isValidField("section")&&e,e=this.isValidField("professor")&&e,e}},created:function(){"EDIT"==this.action?this.loadCourse(this.classnum):this.loaded=!0}},Fe=Oe,Ve=(s("2f84"),Object(o["a"])(Fe,ye,we,!1,null,"1e7c4c3d",null)),Ue=Ve.exports,qe={components:{"admin-header":pe,"course-form":Ue},created:function(){var e=this;this.axios.defaults.withCredentials=!0,this.axios.get("api/admin/authenticate-session",{headers:{withCredentials:!0}}).then((function(t){t.data.admin_id?console.log("Admin logged in"):(console.log("Unauthorized access"),e.$router.push({name:"loginAdmin"}))})).catch((function(e){console.log(e)}))}},Re=qe,Le=Object(o["a"])(Re,Ce,be,!1,null,null,null),Ie=Le.exports,Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("admin-header"),s("course-form",{attrs:{action:"EDIT",classnum:e.classnum}})],1)},ze=[],We={components:{"admin-header":pe,"course-form":Ue},data:function(){return{classnum:this.$route.params.classnum}},created:function(){var e=this;this.axios.defaults.withCredentials=!0,this.axios.get("api/admin/authenticate-session",{headers:{withCredentials:!0}}).then((function(t){t.data.admin_id?console.log("Admin logged in"):(console.log("Unauthorized access"),e.$router.push({name:"loginAdmin"}))})).catch((function(e){console.log(e)}))}},Be=We,Ge=Object(o["a"])(Be,Ye,ze,!1,null,null,null),He=Ge.exports;a["a"].use(u["a"]);var Je=[{path:"/",name:"loginStudent",component:f},{path:"/register",name:"Register",component:w},{path:"/search",name:"Search",component:Q},{path:"/manage",name:"Manage",component:oe},{path:"/admin",name:"loginAdmin",component:A},{path:"/admin-add",name:"adminAdd",component:Ie},{path:"/admin-edit/:classnum",name:"adminEditCourse",component:He},{path:"/admin-manage",name:"adminManage",component:_e}],Ke=new u["a"]({mode:"history",base:"/",routes:Je}),Qe=Ke,Xe=(s("4989"),s("bc3a")),Ze=s.n(Xe),et=s("a7fe"),tt=s.n(et);a["a"].use(tt.a,Ze.a),a["a"].config.productionTip=!1,new a["a"]({router:Qe,render:function(e){return e(c)}}).$mount("#app")},"5f3f":function(e,t,s){},"646d":function(e,t,s){"use strict";var a=s("fff7"),i=s.n(a);i.a},"689e":function(e,t,s){"use strict";var a=s("dc5b"),i=s.n(a);i.a},"6a16":function(e,t,s){"use strict";var a=s("268e"),i=s.n(a);i.a},8335:function(e,t,s){"use strict";var a=s("0b98"),i=s.n(a);i.a},8409:function(e,t,s){e.exports=s.p+"img/dlsu-logo.0d25adcc.png"},"85ec":function(e,t,s){},8629:function(e,t,s){"use strict";var a=s("cf3c"),i=s.n(a);i.a},a001:function(e,t,s){},a041:function(e,t,s){"use strict";var a=s("1846"),i=s.n(a);i.a},a5c4:function(e,t,s){"use strict";var a=s("5f3f"),i=s.n(a);i.a},b1f5:function(e,t,s){},bfc2:function(e,t,s){"use strict";var a=s("a001"),i=s.n(a);i.a},caee:function(e,t,s){"use strict";var a=s("b1f5"),i=s.n(a);i.a},cf3c:function(e,t,s){},dc5b:function(e,t,s){},fff7:function(e,t,s){}});
//# sourceMappingURL=app.4a7f9c29.js.map